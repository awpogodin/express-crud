<%- include('../../fragments/header.ejs'); %>

<div class="container mt-3">
  <form class="needs-validation" method="POST">
    <input
      type="text"
      name="name"
      class="form-control"
      placeholder="Enter name"
      pattern="^[A-Z]{1}[A-Za-z]{1,2}([a-z]{0,6})?([']{0,1})?([a-z]{0,1})?( [0-9A-Z]{1})?([a-z]{0,4})?( [0-9A-Z]{1})?([a-z]{0,9})?( [0-9]{1})?$"
      value="<%= game.name %>"
      required
    />
    <br />
    <input
      type="text"
      name="developers"
      class="form-control"
      placeholder="Enter developers"
      pattern="^[A-Z]{1}[A-Za-z]{1}[,a-z]{1}([A-Za-z]{0,1})?([a-z]{0,2})?([,a-z]{0,1})?([A-Za-z]{0,1})?([a-z]{0,6})?( [A-Z]{1})?([a-z]{4})?$"
      value="<%= game.developers %>"
      required
    />
    <br />
    <input
      type="text"
      name="platforms"
      class="form-control"
      placeholder="Enter platforms"
      pattern="^[A-Z]{1}[A-Za-z]{1}([,A-Za-z]{0,1})?([A-Za-z]{0,1})?([A-Z]{0,6})?([,]{0,1})?([A-Z]{0,2})?([0-9]{0,1})?([,]{0,1})?([A-Z]{0,4})?([0-9]{0,3})?([,]{0,1})?([A-Z]{0,2})?([0-9]{0,1})?([,]{0,1})?([A-Z]{0,1})?([a-z]{0,2})?( [A-Z]{1})?([,A-Za-z]{1})?([A-Za-z]{1})?([,a-z]{0,1})?([A-Za-z]{0,2})?([,a-z]{0,1})?([A-Za-z]{0,1})?([,A-Z]{0,1})?([0-9A-Z]{0,1})?([a-z]{0,6})?([,]{0,1})?([A-Z]{0,1})?([a-z]{0,2})?( [0-9]{1})?(.{0,1})?([0-9A-Z]{0,1})?([,A-Z]{0,1})?([A-Z]{0,3})?( [0-9]{2})?$"
      value="<%= game.platforms %>"
      required
    />
    <br />
    <input
      type="text"
      name="genres"
      class="form-control"
      placeholder="Enter genres"
      pattern="^[A-Z]{1}[A-Za-z]{1,2}([a-z]{0,3})?([,a-z]{0,1})?([a-z]{0,12})?( [A-Z]{1})?([a-z]{9})?$"
      value="<%= game.genres %>"
      required
    />
    <input type="hidden" name="oldId" value="<%= game.id %>" />
    <br />
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
</div>

<script>
  // Example starter JavaScript for disabling form submissions if there are invalid fields
  (function() {
    "use strict";
    window.addEventListener(
      "load",
      function() {
        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.getElementsByClassName("needs-validation");
        // Loop over them and prevent submission
        var validation = Array.prototype.filter.call(forms, function(form) {
          form.addEventListener(
            "submit",
            function(event) {
              if (form.checkValidity() === false) {
                event.preventDefault();
                event.stopPropagation();
              }
              form.classList.add("was-validated");
            },
            false
          );
        });
      },
      false
    );
  })();
</script>

<%- include('../../fragments/footer.ejs'); %>
